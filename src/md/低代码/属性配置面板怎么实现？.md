---
title: 属性配置面板怎么实现？
category: 低代码
tags: [低代码, 面试题, 核心特性, 属性配置面板]
description: 属性配置面板本质上是 Schema 中 `props` 的可视化表单编辑器，实现的是 `Schema ↔ 表单` 的双向映射。
date: 2026-02-09
---

## 一句话标准答案（先稳住）

> **属性配置面板本质上是 Schema 中 `props` 的可视化表单编辑器，实现的是 `Schema ↔ 表单` 的双向映射。**

---

## 一、整体架构（一定要先说）

### 核心结构

```
选中组件
   ↓
读取组件 Schema
   ↓
根据 propsSchema 渲染配置表单
   ↓
表单修改 → 更新 Schema
   ↓
Renderer 即时生效
```

---

## 二、关键设计点（这是重点）

## 1️⃣ 属性元数据（propsSchema）

**不是直接渲染表单，而是「用 Schema 描述表单」**

```ts
// 组件的属性描述协议
const propsSchema = {
  text: {
    label: '按钮文案',
    type: 'string',
    default: '提交'
  },
  disabled: {
    label: '是否禁用',
    type: 'boolean'
  },
  type: {
    label: '按钮类型',
    type: 'enum',
    options: ['primary', 'default']
  }
}
```

> 🔑 面试关键词：
> **属性元数据 / 属性协议 / propsSchema**

---

## 2️⃣ 动态生成配置表单

根据 `type` 映射表单控件：

| type    | 表单控件        |
| ------- | ----------- |
| string  | Input       |
| number  | InputNumber |
| boolean | Switch      |
| enum    | Select      |
| color   | ColorPicker |

```ts
renderField(schema) {
  switch(schema.type) {
    case 'string': return <Input />
    case 'boolean': return <Switch />
  }
}
```

---

## 3️⃣ 双向绑定（核心）

### 数据来源

```ts
formModel === schema.props
```

* 表单修改 → 更新 `schema.props`
* Renderer 监听 schema 变化 → 组件重新渲染

> ⚠️ 关键点：
> **配置面板不存状态，只操作 Schema**

---

## 4️⃣ 即改即生效怎么实现？

**本质：**

* Schema 是单一数据源
* Renderer 是纯函数

```ts
Component = render(schema)
```

---

## 三、进阶追问（80% 会被问）

## Q1：不同组件属性不一样，面板怎么复用？

**标准答：**

* 每个组件定义自己的 `propsSchema`
* 面板是通用的 Renderer

```ts
registerComponent({
  type: 'Button',
  propsSchema
})
```

---

## Q2：属性之间有依赖怎么办？

> 比如：只有 `type=primary` 才显示 `danger`

**答案（一定要说）：**

* 用条件表达式控制显示

```ts
visible: (props) => props.type === 'primary'
```

或者：

```js
visible: '{{ props.type === "primary" }}'
```

---

## Q3：怎么支持复杂属性？（对象 / 数组）

**标准答：**

* 对象：递归生成表单
* 数组：列表编辑器（增删改）

```ts
columns: {
  type: 'array',
  item: {
    type: 'object',
    properties: { ... }
  }
}
```

---

## 四、真实项目中的难点（加分）

### 1️⃣ 属性太多，面板很乱？

* 分组 / 折叠
* tabs（基础 / 样式 / 事件）

---

### 2️⃣ 如何支持表达式？

> 既能写值，也能写 `{{}}`

**做法：**

* 值类型：literal | expression
* UI 层支持切换

```ts
{
  value: 18,
  valueType: 'expression'
}
```

---

### 3️⃣ 如何支持撤销 / 重做？

**关键点：**

* Schema 使用不可变更新
* 维护 history 栈

---

## 五、终极总结（可以直接背）

你可以用这段收尾：

> **属性配置面板不是在“配组件”，而是在“编辑 Schema”；
> 表单只是 UI，Schema 才是唯一数据源。**

---

## 六、如果面试官继续追（你就赢了）

我还能继续帮你：

* 🧠 **追问：属性配置如何做校验 / 权限控制**
* 🛠️ **手写一个最小版属性面板（React/Vue）**
* 📌 **简历中“负责低代码属性配置系统”的标准话术**

要不要我直接**模拟一次追问**？比如：
👉 *“如果属性值是表达式，怎么校验？”*
